
###########################################################
New Step
###########################################################
prompt_log: Sample Prompt:
Example_1:
input: [['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['h', 'h', 'h', 'h', 'h', '.', 'h', 'h', '.', '.'], ['h', 'h', 'h', 'h', 'h', '.', 'h', 'h', '.', '.'], ['h', '.', 'h', '.', 'h', '.', '.', 'h', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', 'h', '.', '.'], ['.', '.', '.', '.', '.', 'e', '.', 'h', '.', '.'], ['.', 'e', '.', '.', '.', 'e', '.', 'h', '.', '.'], ['.', 'e', '.', '.', '.', 'e', '.', '.', '.', '.'], ['.', 'e', '.', '.', '.', 'e', '.', '.', '.', '.'], ['e', 'e', '.', 'e', '.', 'e', 'e', '.', '.', '.']]
output: [['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['h', 'h', 'h', 'h', 'h', 'e', 'h', 'h', '.', '.'], ['h', 'h', 'h', 'h', 'h', 'e', 'h', 'h', '.', '.'], ['h', 'e', 'h', 'e', 'h', 'e', 'e', 'h', '.', '.'], ['e', 'e', '.', '.', '.', 'e', '.', 'h', '.', '.'], ['.', 'e', '.', '.', '.', 'e', '.', 'h', '.', '.'], ['.', 'e', '.', '.', '.', '.', '.', 'h', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]

Example_2:
input: [['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', '.', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', '.', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', '.', '.', '.', '.', '.'], ['.', '.', 'e', '.', '.', '.', '.', '.', 'e', '.'], ['e', '.', 'e', '.', '.', '.', '.', '.', 'e', '.'], ['e', 'e', 'e', '.', '.', 'e', 'e', '.', 'e', '.']]
output: [['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['e', 'h', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['e', 'e', 'e', 'h', 'h', 'h', 'h', 'h', 'e', '.'], ['.', '.', 'e', 'h', 'h', 'h', 'e', 'h', 'e', '.'], ['.', '.', 'e', 'h', 'h', 'h', '.', 'h', 'e', '.'], ['.', '.', '.', 'h', 'h', 'e', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]

Example_3:
input: [['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', 'h', '.', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', 'e', '.', '.', 'e', '.'], ['.', '.', '.', '.', '.', 'e', '.', '.', 'e', '.']]
output: [['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', 'h', 'h', 'h', 'h', 'h', '.'], ['.', '.', 'h', 'h', '.', 'e', 'h', '.', 'e', '.'], ['.', '.', 'h', '.', '.', 'e', 'h', '.', 'e', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]

Test case:
input: [['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', '.', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', 'e', 'e', '.', '.', '.', '.'], ['.', '.', '.', '.', 'e', 'e', '.', '.', '.', '.']]

###########################################################
Sample Outputs:
output: [['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', '.', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]
*/

// Solution 1:
class Solution {
    public List<List<Character>> wallsAndGates(List<List<Character>> rooms) {
        if (rooms == null || rooms.size() == 0) return rooms;
        int m = rooms.size(), n = rooms.get(0).size();
        Queue<int[]> queue = new LinkedList<>();
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (rooms.get(i).get(j) == 'S') {
                    queue.offer(new int[]{i, j});
                }
            }
        }
        while (!queue.isEmpty()) {
            int[] cur = queue.poll();
            int x = cur[0];
            int y = cur[1];
            if (x > 0 && rooms.get(x - 1).get(y) == 'E' && rooms.get(x - 1).get(y) >= rooms.get(x).get(y)) {
                rooms.get(x - 1).set(y, (char)(rooms.get(x).get(y) + 1));
                queue.offer(new int[]{x - 1, y});
            }
            if (x < m - 1 && rooms.get(x + 1).get(y) == 'E' && rooms.get(x + 1).get(y) >= rooms.get(x).get(y)) {
                rooms.get(x + 1).set(y, (char)(rooms.get(x).get(y) + 1));
                queue.offer(new int[]{x + 1, y});
            }
            if (y > 0 && rooms.get(x).get(y - 1) == 'E' && rooms.get(x).get(y - 1) >= rooms.get(x).get(y)) {
                rooms.get(x).set(y - 1, (char)(rooms.get(x).get(y) + 1));
                queue.offer(new int[]{x, y - 1});
            }
            if (y < n - 1 && rooms.get(x).get(y + 1) == 'E' && rooms.get(x).get(y + 1) >= rooms.get(x).get(y)) {
                rooms.get(x).set(y + 1, (char)(rooms.get(x).get(y) + 1));
                queue.offer(new int[]{x, y + 1});
            }
        }
        return rooms;
    }
}

// Solution 2:
class Solution {
    private static final char WALL = '#';
    private static final char GATE = 'G';
    private static final char EMPTY = '.';
    private static final char ENTER = 'E';
    private static final char VISITED = 'V';

    public List<List<Character>> wallsAndGates(List<List<Character>> rooms) {
        if (rooms == null || rooms.size() == 0) return rooms;
        bfs(rooms);
        return rooms;
    }

    private void bfs(List<List<Character>> rooms) {
        int m = rooms.size(), n = rooms.get(0).size();
        Deque<Integer> queue = new ArrayDeque<>();
        // mark all gates as visited and push them into the queue
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (rooms.get(i).get(j) == GATE) {
                    queue.addLast(i * n + j);
                    rooms.get(i).set(j, VISITED);
                }
            }
        }
        // BFS from each gate to its nearest empty cell
        while (!queue.isEmpty()) {
            int pos = queue.pollFirst();
            int r = pos / n;
            int c = pos % n;
            if (rooms.get(r).get(c)!= VISITED && rooms.get(r).get(c)!= ENTER) {
                rooms.get(r).set(c, (char)(rooms.get(r).get(c) + Math.min(Math.max(r, m - r - 1), Math.max(c, n - c - 1))));
                if (r > 0 && rooms.get(r - 1).get(c) == EMPTY) {
                    queue.addLast((r - 1) * n + c);
                    rooms.get(r - 1).set(c, VISITED);
                }
                if (r < m - 1 && rooms.get(r + 1).get(c) == EMPTY) {
                    queue.addLast((r + 1) * n + c);
                    rooms.get(r + 1).set(c, VISITED);
                }
                if (c > 0 && rooms.get(r).get(c - 1) == EMPTY) {
                    queue.addLast(r * n + c - 1);
                    rooms.get(r).set(c - 1, VISITED);
                }
                if (c < n - 1 && rooms.get(r).get(c + 1) == EMPTY) {
                    queue.addLast(r * n + c + 1);
                    rooms.get(r).set(c + 1, VISITED);
                }
            }
        }
    }
}


###########################################################
Result:
solution: [['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'h', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'h', 'e', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'e', 'e', 'h', 'h', '.', '.'], ['.', '.', '.', 'h', 'e', '.', 'h', '.', '.', '.'], ['.', '.', '.', 'h', '.', '.', 'h', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]


success: 0

too_long_prompt: False

tries: 1

success_rate: 0.005

cat_success_cnt: 0

cat_success_rate: 0.0

